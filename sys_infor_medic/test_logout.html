<!DOCTYPE html>
<html>
<head>
    <title>Test D√©connexion</title>
</head>
<body>
    <h1>Test du bouton de d√©connexion</h1>
    
    <button onclick="testLogout()">Tester D√©connexion</button>
    
    <script>
        function testLogout() {
            console.log("üö™ D√©but de la d√©connexion...");
            
            // Simuler la confirmation
            if (confirm('√ätes-vous s√ªr de vouloir vous d√©connecter ?')) {
                
                // Nettoyer le stockage local
                try {
                    localStorage.clear();
                    sessionStorage.clear();
                    console.log("üßπ Stockage local nettoy√©");
                } catch(e) {
                    console.warn("‚ö†Ô∏è Erreur nettoyage:", e);
                }
                
                console.log("üìù Cr√©ation du formulaire de d√©connexion...");
                
                // Cr√©er et soumettre le formulaire de d√©connexion
                const form = document.createElement('form');
                form.method = 'POST';
                form.action = '/logout'; // Remplacer par votre route
                
                const csrfToken = document.createElement('input');
                csrfToken.type = 'hidden';
                csrfToken.name = '_token';
                csrfToken.value = 'test-token'; // Remplacer par le vrai token
                
                form.appendChild(csrfToken);
                document.body.appendChild(form);
                
                console.log("üì§ Soumission du formulaire...");
                // form.submit(); // D√©commentez pour vraie soumission
                
                // Redirection de s√©curit√©
                setTimeout(function() {
                    console.log("üîÑ Redirection de s√©curit√© vers /login");
                    // window.location.replace('/login'); // D√©commentez pour vraie redirection
                    alert("Redirection vers /login");
                }, 1500);
            }
        }
    </script>
</body>
</html>